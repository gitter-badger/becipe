function validateEmail(a){a=a.match("^(.+)@(.+)$");return null==a||null!=a[1]&&null==a[1].match(/^\"?[\w-_\.]*\"?$/)?!1:null!=a[2]?null==a[2].match(/^[\w-\.]*\.[A-Za-z]{2,4}$/)&&null==a[2].match(/^\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]$/)?!1:!0:!1}function onFocus(){$(this).removeClass("error");$(this).removeClass("empty");var a=$(this).val(),b=$(this).attr("data");(a==b||""==a)&&$(this).val("")}
function onBlur(a){$(this).removeClass("error");var b=$(this).val();a=$(this).attr("data");""==b&&($(this).val(a),$(this).addClass("empty"))}function isValid(a,b){var c=$(a).val(),d=null!=/^(?!\s*$).+/.exec(c)&&c!=b;d&&"Email"==b&&(d=validateEmail(c));return d}
$(function(){$("#fn").on("focus",onFocus);$("#ln").on("focus",onFocus);$("#em").on("focus",onFocus);$("#fn").on("blur",onBlur);$("#ln").on("blur",onBlur);$("#em").on("blur",onBlur);$("#signup").click(function(){var a=!0;$("input").each(function(){isValid(this,$(this).attr("data"))?$(this).removeClass("error"):(a=!1,$(this).addClass("error"))});if(!a)return!1;$("#form").hide();$("#wait").show();jsRoutes.controllers.Application.signup.ajax({type:"POST",data:{fn:fn,ln:ln,em:em},complete:function(){$("#wait").hide();
$("#name").text($("#fn").val()+",");$("#success_message").fadeIn(1500)}});return!1})});