@(recipe: Recipe, relatedRecipes: Seq[Recipe])(implicit request: RequestHeader, session: play.api.mvc.Session)

@import play.api.libs.json._

@getWordFor(i: Int) = {
	@{i match {
		case 0 => {"first"}
		case 1 => {"second"}
		case 2 => {"third"}
		case _ => {"last"}
	}}
	
}

@isSaved() = @{
	false
}

@isMyRecipe() = @{
	false
}

@main("recipe-book") {

<body>

	<!-- MAIN -->
	<div id="main">
		
		
		<div class="row-fluid">
			<div class="span12">
				<!-- slider -->
				<div class="center-in-span main-content-width">
					<div class="flexslider">
						<ul class="slides">
							@for(photo <- recipe.photos){
								@if(photo.metadata.typeOf == "slider") {
									<li>
										<img src="@photo.getFullUrl" alt="alt text" />
									</li>	
								}
							}
						</ul>
					</div>
				</div>
				<!-- ENDS slider -->
			</div>
		</div>
		
		
		<div class="row-fluid">
			<div class="span12">
				<div class="center-in-span main-content-width">
					@for(tag <- recipe.tags) {
						<span>@tag&nbsp;</span>
					}
				</div>	
			</div>
		</div>
		
		<div class="row-fluid">
			<div class="span12">
				<div class="center-in-span main-content-width">
					<div class="row-fluid">
						<div class="span6"><h2 class="heading ">@recipe.name</h2></div>
						<div class="span6">
							<img class="float-right" src="@routes.Assets.at("img/ratings.png")" alt="rating">
						</div>
					</div>
					<div class="row-fluid">
						<div class="span6">
							<p>
								<strong>Posted By </strong> @recipe.by <strong>On </strong> @org.joda.time.format.DateTimeFormat.forPattern("dd-MMMM-YYYY").print(recipe.created)
							</p>
						</div>
						<div class="span6">
							<!-- social bar -->
							<div id="social-bar-container">
								<ul id="social-bar-right" class="cf sb">
									@views.html.social_bar()
								</ul>
							</div>
							<!-- end of social bar -->
						</div>
					</div>
				</div>
		</div>
		
		<div class="row-fluid">
			<div class="span12">
				<div class="center-in-span main-content-width">
					<div class="row-fluid">
						<div class="span4">
							<p><strong><i>Preparation Time </i></strong> @recipe.prepTime </p> 	
						</div>
						<div class="span4">
							<p><strong><i>Recipe yield</i></strong> @recipe.recipeYield </p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row-fluid">
			<div class="span12">
				<div class="center-in-span main-content-width">
						<!-- Ingredients -->
						<h3>Ingredients</h3>
						<div class="row-fluid">
							@for(i <- 0 to recipe.phases.length - 1) {
								<div class="span4">
									<h4>Phase @{i+1}: @recipe.phases(i).description</h4>
									@for(ing <- recipe.phases(i).ingredients) {
										<div>@ing</div>
									}
								</div>
							}
						</div>
						<!-- End of Ingredients -->
						
						<!-- Directions -->
						<h3>Directions</h3>
						<div class="row-fluid">
							<div class="span12 directions">
								@Html(recipe.directions)
							</div>
						</div>
						<!-- End of Directions -->
				</div>	
			</div>
		</div>

	</div>
	<!-- ENDS MAIN -->
</body>
<script>

	$(function() {
		 $('.flexslider').flexslider({
    		animation: "slide"
  		});
	});
</script>
}